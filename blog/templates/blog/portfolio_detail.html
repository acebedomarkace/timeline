{% extends 'blog/base.html' %}

{% block title %}{{ portfolio.title }}{% endblock %}

{% block content %}
  <h2>{{ portfolio.title }}</h2>
  {% if portfolio.description %}
    <p>{{ portfolio.description }}</p>
  {% endif %}
  <p>By: {{ portfolio.author.username }}</p>
  {% if portfolio.is_public %}
    <p><a href="{% url 'public_portfolio_detail' pk=portfolio.pk %}">View Public Portfolio</a></p>
  {% endif %}

  <hr>

  <h3>Published Posts</h3>
  {% for post in published_posts %}
    <div class="post-item">
      <h4><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h4>
    </div>
  {% empty %}
    <p>This portfolio is empty. Add a post to get started.</p>
  {% endfor %}

  <hr>

  <h3>Draft Posts</h3>
  {% for post in draft_posts %}
    <div class="post-item">
      <h4><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a> (Draft)</h4>
    </div>
  {% empty %}
    <p>This portfolio has no draft posts.</p>
  {% endfor %}

  <hr>

  <h3>Presentations</h3>
  {% for presentation in portfolio.presentations.all %}
    <div class="presentation-item">
      <h4><a href="{% url 'presentation_detail' pk=presentation.pk %}">{{ presentation.title }}</a></h4>
    </div>
  {% empty %}
    <p>This portfolio has no presentations yet.</p>
  {% endfor %}

  {% if user == portfolio.author %}
    <hr>
    <a href="{% url 'portfolio_edit' pk=portfolio.pk %}">Edit Portfolio</a>
  {% endif %}

{% endblock %}