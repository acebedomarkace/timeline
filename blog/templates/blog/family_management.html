{% extends "blog/base.html" %}

{% block content %}
  <h2>Manage Family: {{ family.name }}</h2>

  <div class="info-card">
    <h3>Invite Code</h3>
    {% if family.invite_code %}
      <p>Share this code with family members to allow them to join:</p>
      <strong>{{ family.invite_code }}</strong>
    {% else %}
      <p>Your family doesn't have an invite code yet.</p>
    {% endif %}
    <form method="post" style="margin-top: 15px;">
      {% csrf_token %}
      <button type="submit" class="btn btn-secondary">Generate New Code</button>
    </form>
  </div>

  <div class="info-card" style="margin-top: 20px;">
    <h3>Family Members</h3>
    <ul>
      {% for member_profile in family.members.all %}
        <li>{{ member_profile.user.username }}</li>
      {% empty %}
        <li>No members found.</li>
      {% endfor %}
    </ul>
  </div>

{% endblock %}